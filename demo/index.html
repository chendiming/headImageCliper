<!doctype html>
<html>
    <head>
        <title>flash头像裁剪上传</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <style type="text/css" media="screen">
            html, body  { height:100%; }
            body { margin:0; padding:0; overflow:auto; text-align:center; 
                   background-color: #fff; }   
            object:focus { outline:none; }
        </style>
    </head>

    <body>

        <button onclick="imageCliper.submit();">上传</button>

        <div id="headImage" style="width:730px;height:730px;margin-left: 10px;">

        </div>

		<script src="headImageCliper.js"></script>
        <script>
            window.onload = function(){

                var container = document.getElementById('headImage');
                window.imageCliper = new HeadImageCliper({
                    container: container, //上传界面的容器，原生dom
                    flashUrl: '../bin-debug/headImageCliper.swf?v=0527', //上传flash的地址
                    width: container.clientWidth, //flash的宽度
                    height: container.clientHeight, //flash的高度
                    uploadUrl: 'upload.php', //上传路径
                    file: 'file', //上传的字段名，默认为file
                    isPreview: true, //是否显示预览图
                    previewSize: '180|100|50', //预览图尺寸。'200|100'代表显示200*200和100*100的预览图。注意预览图的尺寸如果过大，可能会超出flash的可视范围，此时应该设置不显示预览图或者增大flash的宽高度
                    resourceUrl: 'http://127.0.0.1/headImageCliper/demo/' //flash包含的按钮、光标等静态文件的放置路径
                });

                imageCliper.bind("complete",function(evt, response){
                    alert('上传成功，请查看console');
                    console.log('jsjsjsjsjsjsjsjsjsjsjsjsjsjsjs**********complete', response);
                });

                imageCliper.bind("error",function(evt, response){
                    console.log('jsjsjsjsjsjsjsjsjsjsjsjsjsjsjs**********error', response);
                });

                //imageCliper.setImageSrc('http://127.0.0.1/imageCliper/demo/img_1432626207571.jpg'); 设置默认图片地址

            }
        </script>
   </body>
</html>
